{% extends "base.html" %}

{% block title %}ูุงุฆูุฉ ุงูููุชุฌุงุช{% endblock %}

{% block content %}
<div class="container mt-4">
    <!-- โ ุนููุงู ุงูุจุญุซ -->
    <div class="text-center mb-5">
        <h1 class="display-5 fw-bold text-primary">๐๏ธ ูุงุฆูุฉ ุงูููุชุฌุงุช</h1>
        <p class="text-muted">ุงุณุชูุดู ูุฌููุนุชูุง ุงููููุฒุฉ ุจุฃูุถู ุงูุฃุณุนุงุฑ</p>
    </div>

    <!-- โ ุฎุงูุฉ ุงูุจุญุซ -->
    <div class="d-flex justify-content-center mb-4">
        <form method="GET" action="{% url 'product_list' %}" class="d-flex w-50">
            <input type="text" name="search" class="form-control text-center" placeholder="๐ ุงุจุญุซ ุนู ููุชุฌ..." value="{{ request.GET.search }}" required>
            <button class="btn btn-dark ms-2" type="submit">
                <i class="fas fa-search"></i> ุจุญุซ
            </button>
        </form>
    </div>

    <!-- โ ุนููุงู ุงูููุชุฌุงุช ุงููุชุงุญุฉ -->
    <div class="text-center mb-4">
        <h2 class="fw-bold text-secondary">๐ฆ ุงูููุชุฌุงุช ุงููุชุงุญุฉ</h2>
    </div>

    <!-- โ ุดุจูุฉ ุงูููุชุฌุงุช -->
    <div class="row row-cols-1 row-cols-md-3 g-4">
        {% for product in products %}
        <div class="col">
            <div class="card product-card shadow-sm border-light rounded h-100">
                <img src="{{ product.image_url }}" class="card-img-top product-image" alt="{{ product.title }}">
                <div class="card-body text-center">
                    <h5 class="card-title fw-bold">{{ product.title }}</h5>
                    <p class="card-text text-muted">{{ product.description|truncatewords:15 }}</p>
                    <p class="text-primary fw-bold">{{ product.price }} {{ product.currency }}</p>
                    <div class="d-flex justify-content-center gap-2">
                        <a href="{% url 'add_to_cart' product.id %}" class="btn btn-success">
                            <i class="fas fa-cart-plus"></i> ุฅุถุงูุฉ ููุณูุฉ
                        </a>
                        <a href="{% url 'product_detail' product.id %}" class="btn btn-info">
                            <i class="fas fa-eye"></i> ุนุฑุถ ุงูุชูุงุตูู
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12 text-center">
            <p class="fw-bold text-danger">โ ูุง ุชูุฌุฏ ููุชุฌุงุช ูุชุงุญุฉ ุญุงูููุง.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
